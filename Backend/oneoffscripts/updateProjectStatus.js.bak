require("dotenv").config();
const { projectsCollection } = require("../db");

const updateProjectStatus = async () => {
  try {
    const collection = await projectsCollection();
    console.log("âœ… Connected to Projects collection!");

    // Update all projects where status is "running"
    const result = await collection.updateMany(
      { status: "running" },
      { $set: { status: "New Lead" } }
    );

    console.log(`ğŸ”„ Updated ${result.modifiedCount} projects to "New Lead" status.`);
  } catch (error) {
    console.error("âŒ Error updating project statuses:", error.message);
  } finally {
    process.exit();
  }
};

// Run the script
updateProjectStatus();
