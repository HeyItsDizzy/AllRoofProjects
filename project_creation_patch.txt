      this.log(`ğŸ¤– AI Response Type: ${aiResponse.type.toUpperCase()}`);
      this.log(`ğŸ“ AI Response Length: ${aiResponse.response.length} characters`);

      // ğŸ—ï¸ PROJECT CREATION - Check if this is a job request
      if (this.projectCreator.isJobRequest(emailData)) {
        this.log('ğŸ¯ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        this.log('ğŸ¯ JOB REQUEST DETECTED - CREATING PROJECT');
        this.log('ğŸ¯ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');

        try {
          // Extract project data using AI
          const projectData = await this.projectCreator.extractProjectDataFromEmail(emailData, this.aiAgent);
          
          if (projectData && projectData.isJobRequest) {
            this.log(`ğŸ—ï¸ Creating project: ${projectData.projectName}`);
            
            // Add current date for due date calculation
            const currentDate = new Date();
            currentDate.setDate(currentDate.getDate() + 7); // Default 7 days from now
            projectData.dueDate = currentDate.toISOString();
            
            // Create the project
            const projectResult = await this.projectCreator.createProject(projectData);
            
            if (projectResult.success) {
              this.log(`âœ… Project created successfully!`);
              this.log(`ğŸ“Š Project ID: ${projectResult.projectId}`);
              this.log(`ğŸ”¢ Project Number: ${projectResult.projectNumber}`);
              
              // Save email and attachments to project folder
              const filesResult = await this.projectCreator.saveProjectFiles(
                projectResult.projectId, 
                emailData, 
                emailData.attachments || []
              );
              
              if (filesResult.success) {
                this.log(`ğŸ’¾ Project files saved: ${filesResult.savedFiles.length} files`);
                this.log(`ğŸ“ Project path: ${filesResult.projectPath}`);
              }
              
              // Update AI response to mention project creation
              if (aiResponse.shouldReply) {
                const projectInfo = `\n\nâœ… Great news! I've automatically created project #${projectResult.projectNumber} for "${projectData.projectName}" in our system. You'll receive a detailed quote shortly.`;
                aiResponse.response += projectInfo;
              }
              
            } else {
              this.log(`âŒ Project creation failed: ${projectResult.error}`, 'ERROR');
              // Continue with normal email processing even if project creation fails
            }
          } else {
            this.log(`â„¹ï¸ Email doesn't contain valid project information, skipping project creation`);
          }
        } catch (projectError) {
          this.log(`âŒ Project creation error: ${projectError.message}`, 'ERROR');
          // Continue with normal email processing even if project creation fails
        }
      } else {
        this.log(`ğŸ“§ Email not identified as job request, skipping project creation`);
      }

      // Check if we should send an intelligent response